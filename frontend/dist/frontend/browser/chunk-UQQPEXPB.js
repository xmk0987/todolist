import{a as f}from"./chunk-Z5XLKVAU.js";import{c as A}from"./chunk-36T7E6IO.js";import{a as X}from"./chunk-XG4WIH3Z.js";import{b as _}from"./chunk-GUDIR2QP.js";import{d as $}from"./chunk-RCV37HLI.js";import{d as r}from"./chunk-B2MOJN65.js";var I=t=>f().duration(t?400:300),P=t=>{let o,a,l=t.width+8,c=f(),m=f();t.isEndSide?(o=l+"px",a="0px"):(o=-l+"px",a="0px"),c.addElement(t.menuInnerEl).fromTo("transform",`translateX(${o})`,`translateX(${a})`);let p=A(t)==="ios",b=p?.2:.25;return m.addElement(t.backdropEl).fromTo("opacity",.01,b),I(p).addAnimation([c,m])},q=t=>{let o,a,l=A(t),c=t.width;t.isEndSide?(o=-c+"px",a=c+"px"):(o=c+"px",a=-c+"px");let m=f().addElement(t.menuInnerEl).fromTo("transform",`translateX(${a})`,"translateX(0px)"),h=f().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${o})`),p=f().addElement(t.backdropEl).fromTo("opacity",.01,.32);return I(l==="ios").addAnimation([m,h,p])},U=t=>{let o=A(t),a=t.width*(t.isEndSide?-1:1)+"px",l=f().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${a})`);return I(o==="ios").addAnimation(l)},D=()=>{let t=new Map,o=[],a=n=>r(void 0,null,function*(){let e=yield d(n,!0);return e?e.open():!1}),l=n=>r(void 0,null,function*(){let e=yield n!==void 0?d(n,!0):E();return e!==void 0?e.close():!1}),c=n=>r(void 0,null,function*(){let e=yield d(n,!0);return e?e.toggle():!1}),m=(n,e)=>r(void 0,null,function*(){let s=yield d(e);return s&&(s.disabled=!n),s}),h=(n,e)=>r(void 0,null,function*(){let s=yield d(e);return s&&(s.swipeGesture=n),s}),p=n=>r(void 0,null,function*(){if(n!=null){let e=yield d(n);return e!==void 0&&e.isOpen()}else return(yield E())!==void 0}),b=n=>r(void 0,null,function*(){let e=yield d(n);return e?!e.disabled:!1}),d=(n,e=!1)=>r(void 0,null,function*(){if(yield g(),n==="start"||n==="end"){let i=o.filter(u=>u.side===n&&!u.disabled);if(i.length>=1)return i.length>1&&e&&X(`menuController queried for a menu on the "${n}" side, but ${i.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,i.map(u=>u.el)),i[0].el;let w=o.filter(u=>u.side===n);if(w.length>=1)return w.length>1&&e&&X(`menuController queried for a menu on the "${n}" side, but ${w.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,w.map(u=>u.el)),w[0].el}else if(n!=null)return O(i=>i.menuId===n);let s=O(i=>!i.disabled);return s||(o.length>0?o[0].el:void 0)}),E=()=>r(void 0,null,function*(){return yield g(),x()}),v=()=>r(void 0,null,function*(){return yield g(),B()}),M=()=>r(void 0,null,function*(){return yield g(),T()}),y=(n,e)=>{t.set(n,e)},R=n=>{o.indexOf(n)<0&&o.push(n)},C=n=>{let e=o.indexOf(n);e>-1&&o.splice(e,1)},S=(n,e,s)=>r(void 0,null,function*(){if(T())return!1;if(e){let i=yield E();i&&n.el!==i&&(yield i.setOpen(!1,!1))}return n._setOpen(e,s)}),k=(n,e)=>{let s=t.get(n);if(!s)throw new Error("animation not registered");return s(e)},x=()=>O(n=>n._isOpen),B=()=>o.map(n=>n.el),T=()=>o.some(n=>n.isAnimating),O=n=>{let e=o.find(n);if(e!==void 0)return e.el},g=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(n=>new Promise(e=>_(n,e))));return y("reveal",U),y("push",q),y("overlay",P),typeof document<"u"&&document.addEventListener("ionBackButton",n=>{let e=x();e&&n.detail.register(99,()=>e.close())}),{registerAnimation:y,get:d,getMenus:v,getOpen:E,isEnabled:b,swipeGesture:h,isAnimating:M,isOpen:p,enable:m,toggle:c,close:l,open:a,_getOpenSync:x,_createAnimation:k,_register:R,_unregister:C,_setOpen:S}},Y=D();export{Y as a};
